---
title: "Genome Features"
description: "Beds and such"
format:
  html:
    code-copy: true
    toc: true
    toc-location: right
    toc-expand: true
editor: visual
execute:
  echo: false
  warning: false
  message: false
---

```{r setup, include=FALSE}
library(tidyverse)
library(DT)
library(readxl)
library(plotly)
library(readr)
library(dplyr)
library(tibble)
library(knitr)
library(gt)
library(htmltools)
```

```{r, include=FALSE}


# Define key paths and tool directories


Apul_gff_url <- "https://raw.githubusercontent.com/urol-e5/MOSAiC/refs/heads/main/data/Apul/Apul_gene_only.gff"


Apul_lncRNAloc_url <- "https://gannet.fish.washington.edu/v1_web/owlshell/bu-github/timeseries_molecular/D-Apul/output/31-Apul-lncRNA-discovery/lncRNA.gtf"

# read in 
Apul_gff <- read_delim(
  Apul_gff_url,
  delim = "\t"
)

Apul_lncRNAloc <- read_delim(
  Apul_lncRNAloc_url,
  delim = "\t",
  col_names = c(
    "seqid", "source", "type", "start", "end",
    "score", "strand", "phase", "attributes"
  ))

```


# APul 

We have **`r nrow(Apul_gff)`** genes, **`r nrow(Apul_lncRNAloc)`** lncRNAs,


Genes 

```{r}
#| echo: false
#| results: asis


cat(as.character(
  tags$a(
    href = Apul_gff_url,
    class = "btn btn-primary",
    target = "_blank",
    download = "Apul_gene_only.gff",
    "Download Gene GFF"
  )
))
```

```{r}
#| results: asis
# (YAML already has format: html: code-copy: true)

#labs <- c("direct url")
urls <- c(Apul_gff_url)

for (i in seq_along(urls)) {
  #cat("**", labs[i], "**\n\n", sep = "")
  # Use bash so Quarto shows a copy button for each block
  cat("``` bash\n", urls[i], "\n```\n\n", sep = "")
}
```

```{r}
Apul_gff |>
  slice_head(n = 4) |>
  gt()
```

lncRNA

```{r}
#| echo: false
#| results: asis


cat(as.character(
  tags$a(
    href = Apul_lncRNAloc_url,
    class = "btn btn-primary",
    target = "_blank",
    download = "Apul_lncRNA.gtf",
    "Download lncRNA GTF"
  )
))
```

```{r}
#| results: asis
# (YAML already has format: html: code-copy: true)

#labs <- c("direct url")
urls <- c(Apul_lncRNAloc_url)

for (i in seq_along(urls)) {
  #cat("**", labs[i], "**\n\n", sep = "")
  # Use bash so Quarto shows a copy button for each block
  cat("``` bash\n", urls[i], "\n```\n\n", sep = "")
}
```

```{r}
Apul_lncRNAloc |>
  slice_head(n = 4) |>
  gt()
```


